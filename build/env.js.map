{"version":3,"file":"env.js","sources":["../src/env.js"],"sourcesContent":["/* global "" */\n\nconst expected = new Set([\n\t'SOCKET_PATH',\n\t'HOST',\n\t'PORT',\n\t'ORIGIN',\n\t'XFF_DEPTH',\n\t'ADDRESS_HEADER',\n\t'PROTOCOL_HEADER',\n\t'HOST_HEADER'\n]);\n\nexport const processEnv = Deno.env.toObject();\n\nif ("") {\n\tfor (const name in processEnv) {\n\t\tif (name.startsWith("")) {\n\t\t\tconst unprefixed = name.slice("".length);\n\t\t\tif (!expected.has(unprefixed)) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`You should change envPrefix (${""}) to avoid conflicts with existing environment variables â€” unexpectedly saw ${name}`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @param {string} name\n * @param {any} fallback\n */\nexport function env(name, fallback) {\n\tconst prefixed = "" + name;\n\treturn prefixed in processEnv ? processEnv[prefixed] : fallback;\n}\n"],"names":[],"mappings":"AAAA;AACA;AACA,MAAM,QAAQ,GAAG,IAAI,GAAG,CAAC;AACzB,CAAC,aAAa;AACd,CAAC,MAAM;AACP,CAAC,MAAM;AACP,CAAC,QAAQ;AACT,CAAC,WAAW;AACZ,CAAC,gBAAgB;AACjB,CAAC,iBAAiB;AAClB,CAAC,aAAa;AACd,CAAC,CAAC,CAAC;AACH;AACY,MAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;AAC9C;AACA,IAAI,UAAU,EAAE;AAChB,CAAC,KAAK,MAAM,IAAI,IAAI,UAAU,EAAE;AAChC,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;AACnC,GAAG,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;AACpD,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;AAClC,IAAI,MAAM,IAAI,KAAK;AACnB,KAAK,CAAC,6BAA6B,EAAE,UAAU,CAAC,4EAA4E,EAAE,IAAI,CAAC,CAAC;AACpI,KAAK,CAAC;AACN,IAAI;AACJ,GAAG;AACH,EAAE;AACF,CAAC;AACD;AACA;AACA;AACA;AACA;AACO,SAAS,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE;AACpC,CAAC,MAAM,QAAQ,GAAG,UAAU,GAAG,IAAI,CAAC;AACpC,CAAC,OAAO,QAAQ,IAAI,UAAU,GAAG,UAAU,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;AACjE;;;;"}