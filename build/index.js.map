{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import { handler } from './handler.js';\nimport { env } from './env.js';\nimport { Application } from './deps.ts';\n\nexport const path = env('SOCKET_PATH', false);\nexport const host = env('HOST', '0.0.0.0');\nexport const port = env('PORT', !path && '3000');\n\n// TODO: add compression middleware\nconst server = new Application().use(handler);\n\nserver.addEventListener('listen', () => {\n\tconsole.log(`Listening on http://${addr}`);\n});\n\nconst addr = path || `${host}:${port}`;\nserver.listen(addr).catch((err) => {\n\tconsole.error('error', err);\n});\n\nexport { server };\n"],"names":[],"mappings":";;;;AAIY,MAAC,IAAI,GAAG,GAAG,CAAC,aAAa,EAAE,KAAK,EAAE;AAClC,MAAC,IAAI,GAAG,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE;AAC/B,MAAC,IAAI,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,IAAI,MAAM,EAAE;AACjD;AACA;AACK,MAAC,MAAM,GAAG,IAAI,WAAW,EAAE,CAAC,GAAG,CAAC,OAAO,EAAE;AAC9C;AACA,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,MAAM;AACxC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AAC5C,CAAC,CAAC,CAAC;AACH;AACA,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;AACvC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK;AACnC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;AAC7B,CAAC,CAAC;;;;"}